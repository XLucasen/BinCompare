# 二进制文件对比工具 - 功能总结 (v1.7.0)

## 应用概述
**二进制文件对比工具** 是一款功能强大的WPF应用程序，用于快速对比两个二进制文件的差异。支持十六进制和二进制显示模式，提供精确的字节级差异高亮和编辑功能。

---

## 核心功能

### 1. 文件加载与对比
- **双文件对比** - 同时打开和对比两个二进制文件
- **自动对比** - 加载文件后自动进行对比
- **拖拽打开** - 支持拖拽文件到程序图标或显示区打开
- **命令行支持** - 支持通过命令行参数加载文件

### 2. 显示模式
- **十六进制显示** - 以十六进制格式显示文件内容
- **二进制显示** - 以二进制格式显示文件内容
- **模式切换** - 快速切换两种显示模式
- **ASCII字符** - 显示对应的ASCII字符（可隐藏）

### 3. 差异检测与高亮
- **自动检测** - 自动检测两个文件的所有差异
- **字节级高亮** - 精确高亮显示差异字节（浅红色背景）
- **点击高亮** - 点击差异列表时临时高亮对应字节（黄色背景）
- **自动取消** - 高亮在2秒后自动取消
- **差异统计** - 显示差异总数

### 4. 数据编辑 ✨ 新增
- **编辑已选数据** - 右键菜单编辑选中行的十六进制数据
- **编辑窗口** - 弹出式编辑窗口，显示在程序中央
- **十六进制编辑** - 支持修改十六进制数据
- **连续性检查** - 仅支持单行或连续多行编辑
- **实时验证** - 验证十六进制格式和字节数量
- **确认/取消** - 支持确认或取消编辑

### 5. 文件同步 ✨ 新增
- **同步到文件A** - 将文件B的数据同步到文件A
- **同步到文件B** - 将文件A的数据同步到文件B
- **精确同步** - 仅同步实际选中的行
- **自动对比** - 同步后自动重新进行对比

### 6. 文件保存 ✨ 新增
- **保存** - 保存修改到原文件
- **另存为** - 保存修改到新位置
- **还原** - 恢复文件到加载时的原始状态
- **修改标志** - 自动追踪文件是否被修改
- **确认对话框** - 还原操作需要用户确认

### 7. 选择与复制
- **单行选择** - 单击选择一行
- **多行选择** - Shift+点击选择连续范围，Ctrl+点击添加/移除选择
- **复制数据** - 右键菜单复制已选数据到剪贴板
- **复制位置** - 右键菜单复制位置信息（地址:数据格式）

### 8. 显示配置
- **行长度配置** - 支持8/16/32/64字节每行
- **拖拽分隔线** - 调整文件A和文件B的显示宽度比例
- **隐藏/显示差异** - 隐藏差异信息区为文件显示区腾出空间
- **隐藏/显示ASCII** - 显示或隐藏ASCII字符列

### 9. 数据导出
- **差异导出** - 将差异信息导出为文本文件
- **详细信息** - 导出包含地址、类型、文件A值、文件B值等信息
- **自定义位置** - 可选择保存位置

### 10. 用户界面
- **现代设计** - 清晰的界面布局和配色
- **响应式布局** - 支持窗口大小调整
- **状态栏** - 显示当前操作状态和消息
- **帮助窗口** - 完整的使用说明和常见问题

---

## 右键菜单功能

### 文件A/B 右键菜单
1. **复制已选数据** - 复制十六进制数据到剪贴板
2. **复制位置信息** - 复制地址范围和数据到剪贴板
3. **编辑已选数据** ✨ - 编辑选中行的十六进制数据
4. **同步到文件B/A** - 同步选中数据到另一个文件

---

## 快捷键

| 快捷键 | 功能 |
|--------|------|
| Ctrl+O | 打开文件A |
| Ctrl+Shift+O | 打开文件B |
| Ctrl+H | 切换显示模式（十六进制/二进制） |
| Ctrl+E | 导出差异信息 |
| Delete | 清除所有数据 |

---

## 工作流程示例

### 基本对比流程
```
1. 启动应用
2. 点击"选择文件A"选择第一个文件
3. 点击"选择文件B"选择第二个文件
4. 应用自动进行对比
5. 查看差异信息和高亮显示
6. 点击差异列表项查看详细信息
```

### 编辑和保存流程
```
1. 选中要编辑的行（单行或连续多行）
2. 右键菜单 → "编辑已选数据"
3. 在编辑窗口修改十六进制数据
4. 点击"确认"应用修改
5. 文件标题旁显示保存按钮
6. 点击"保存"保存到原文件
7. 或点击"另存为"保存到新位置
```

### 数据同步流程
```
1. 选中要同步的数据行
2. 右键菜单 → "同步到文件A/B"
3. 数据被复制到另一个文件的相同地址
4. 自动重新进行对比
5. 文件标题旁显示保存按钮
6. 点击"保存"保存修改
```

---

## 技术特性

### 架构
- **MVVM模式** - 清晰的代码结构和分离
- **WPF框架** - 现代的Windows桌面应用
- **.NET 8.0** - 最新的.NET框架

### 性能
- **高效对比** - 快速对比大文件
- **内存优化** - 合理的内存使用
- **响应式UI** - 流畅的用户交互

### 可靠性
- **错误处理** - 完善的异常处理
- **数据验证** - 输入数据验证
- **状态管理** - 清晰的状态追踪

---

## 支持的文件类型
- .bin - 二进制文件
- .exe - 可执行文件
- .dll - 动态链接库
- .dat - 数据文件
- .hex - 十六进制文件
- .rom - ROM文件
- .img - 镜像文件
- 其他所有二进制格式

---

## 系统要求
- **操作系统** - Windows 7 或更高版本
- **.NET运行时** - .NET 8.0 或更高版本
- **内存** - 最少 512MB RAM
- **磁盘空间** - 最少 50MB

---

## 版本信息
- **当前版本** - v1.7.0
- **发布日期** - 2025年11月23日
- **开发者** - Lucas
- **联系方式** - 332555220@qq.com

---

## 常见问题

**Q: 支持多大的文件？**
A: 理论上支持任意大小的文件，但超大文件（>1GB）处理时间会较长。

**Q: 编辑功能有限制吗？**
A: 编辑功能仅支持单行或连续多行选择，非连续选择会提示错误。

**Q: 修改未保存会怎样？**
A: 修改未保存前关闭程序会丢失数据，建议及时保存。

**Q: 如何恢复已删除的修改？**
A: 点击"还原"按钮可以恢复文件到加载时的原始状态。

**Q: 支持撤销/重做吗？**
A: 当前版本不支持撤销/重做，计划在后续版本中添加。

---

## 反馈和支持
如有问题或建议，欢迎联系：
- 邮箱：332555220@qq.com
- 网址：https://0554h.com
- 赞赏支持：https://0554h.com/API/ZF
